# StepFun Realtime API 使用指南

## 🚀 快速开始

### 1. 启动 WebSocket 代理

由于浏览器 CORS 限制，需要先启动代理服务：

```bash
./start-proxy.sh
```

代理服务将在 `ws://localhost:8765` 运行。

### 2. 获取 API Key

访问 [StepFun 控制台](https://platform.stepfun.com) 获取 API Key。

### 3. 在游戏中使用

1. 启动游戏：`npm run dev`
2. 勾选 "🎤 实时解说"
3. 勾选 "🤖 使用 Step-Audio2"
4. 选择 "Realtime API (WebSocket)"
5. 输入 API Key
6. 选择喜欢的声音

## 🔧 功能特性

### 支持的声音

- **林姐姐** - 温柔女声
- **中秋** - 温暖女声  
- **小七** - 活泼女声
- **云浩** - 沉稳男声
- **志强** - 有力男声

### 优化设置

系统已针对游戏解说优化：
- 语速适中，富有感情
- 实时响应，低延迟
- 支持中英文混合
- 自动处理游戏术语

## 📋 故障排除

### 1. WebSocket 连接失败

- 确保代理服务正在运行
- 检查 API Key 是否正确
- 确认网络连接正常

### 2. 没有声音

- 检查浏览器音量
- 确认音频权限
- 查看控制台错误信息

### 3. 延迟过高

- 使用更快的网络连接
- 尝试选择其他声音
- 关闭其他占用带宽的应用

## 🎮 游戏集成

Realtime API 已完全集成到游戏解说系统中：
- 自动检测游戏事件
- 生成生动的解说内容
- 支持多种语言风格
- 实时语音合成

## 💡 提示

- 首次使用可能需要几秒钟建立连接
- API Key 会安全保存在浏览器本地
- 可以随时切换不同的 TTS 源
- 推荐使用 "林姐姐" 或 "中秋" 声音获得最佳体验